<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- ##################################### -->
    <!-- Manage Users, Employees, Contacts Organization wide -->
    <!-- Hantera Användare och Org-uppgifter (Organisationsnivå) -->
    <!-- ##################################### -->
    
    <record id="category_dafa_handle_org_info" model="ir.module.category">
        <field name="name">DAFA - Organisational Admin Roles</field>
        <field name="description">Category for handling employee rights on organisational level.</field>
    </record>

    <record id="group_dafa_employees_read" model="res.groups">
        <field name="name">DAFA Admin (Read)</field>
        <field name="comment">DAFA Admin - Gives rights to read information related to administrative tasks. Such information could be: access- and permission rights, user- and employee-related information.</field>
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
    </record>

    <record id="group_dafa_employees_write" model="res.groups">
        <field name="name">DAFA Admin (Write)</field>
        <field name="comment">DAFA Admin - Gives rights to do actions related to administrative tasks. Such actions could be: delegating access- and permission rights, creating users and employees, deleting an employee or employees from a list, create/edit/delete user/employee specifik information.</field>
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[(4, ref('group_dafa_employees_read')), (4, ref('hr.group_hr_user'))]"/>
    </record>

    <!-- Superadmin (Read) -->
    <!-- Hantera Organisationsuppgifter (Läs) -->
    <record id="group_dafa_org_admin_read" model="res.groups">
        <field name="name">DAFA Org Admin (Read)</field>
        <field name="comment">DAFA Org Admin - Allows user to access information related to the organization and all its departments, employees, customers etc.</field>
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
    </record>


    <!-- Superadmin (Write) -->
    <record id="group_dafa_superadmin" model="res.groups">
        <field name="name">DAFA Org Admin (Write) former SuperAdmin</field>
        <field name="comment">DAFA Superadmin - Gives all the rights from all the groups combined. Se related groups to understand how they work.</field>
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[
        (4, ref('group_dafa_org_admin_read')),(4, ref('sales_team.group_sale_manager')), 
        (4, ref('hr.group_hr_manager')), (4, ref('account.group_account_manager'))
        ]"/>
    </record>

    <!-- ############################################ -->
    <!-- Manage Users, Employees, Contacts Department level -->
    <!-- Hantera Deltagare och Ekonomi (Utförandeverksamhetsnivå) -->
    <!-- ############################################ -->
    <record id="category_dafa_handle_department_info" model="ir.module.category">
        <field name="name">DAFA - Department Roles</field>
        <field name="description">Category for handling information and tasks related to jobseekers.</field>
    </record>

    <record id="group_dafa_participants_read" model="res.groups">
        <field name="name">DAFA Participants (Read)</field>
        <field name="comment">DAFA Participants - Gives access to read participant related information and processess.</field>
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="implied_ids" ref="[(4, ref('outplacement.group_outplacement_user_read'))]"/>
        <field name="is_dafa" eval="True"/>
    </record>

    <record id="group_dafa_participants_write" model="res.groups">
        <field name="name">DAFA Participants (Write)</field>
        <field name="comment">DAFA Participants - Gives access to read and change participant related information and processess.</field>
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[(4, ref('group_dafa_participants_read')), (4, ref('project.group_project_user')), (4, ref('sales_team.group_sale_salesman_all_leads')), (4, ref('outplacement.group_outplacement_user_write'))]"/>
    </record>


    <!-- Manage Accounting -->
    <!-- Hantera Ekonomi -->
    <record id="group_dafa_admin_accounting_read" model="res.groups">
        <field name="name">DAFA Accounting (Read)</field>
        <field name="comment">DAFA Accounting - Gives access to read information related to the accounting of the company such as order-payments and invoices.</field>
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" ref="[(4, ref('group_dafa_participants_read'))]"/>
    </record>

    <record id="group_dafa_admin_accounting_write" model="res.groups">
        <field name="name">DAFA Accounting (Write)</field>
        <field name="comment">DAFA Accounting - Gives access to read and change information related to the accounting of the company such as order-payments and invoices.</field>
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[(4, ref('group_dafa_admin_accounting_read')), (4, ref('group_dafa_participants_write')), (4, ref('account.group_account_invoice')), (4, ref('account.group_account_manager'))]"/>
    </record>
    
    <!-- DAFA Support -->
    <record model="ir.module.category" id="module_category_af_support">
        <field name="name">DAFA Support</field>
        <field name="description">Allows you to perform technical support.</field>
        <field name="sequence">1</field>
    </record>

    <record id="1_line_support" model="res.groups">
        <field name="name">DAFA 1st Line</field>
        <field name="category_id" ref="module_category_af_support"/>
        <field name="implied_ids" eval="[(4, ref('base_user_groups_dafa.group_dafa_employees_read')), (4, ref('base_user_groups_dafa.group_dafa_participants_read')), (4, ref('base_user_groups_dafa.group_dafa_admin_accounting_read')), (4, ref('base_user_groups_dafa.group_dafa_org_admin_read'))]"/>
        <field name="comment">DAFA READ-roles</field>
    </record>

    <record id="2_line_support" model="res.groups">
        <field name="name">DAFA 2nd Line</field>
        <field name="category_id" ref="module_category_af_support"/>
        <field name="implied_ids" eval="[(4, ref('1_line_support')), (4, ref('base_user_groups_dafa.group_dafa_participants_write')), (4, ref('base_user_groups_dafa.group_dafa_admin_accounting_write')), (4, ref('base_user_groups_dafa.group_dafa_superadmin'))]"/>
        <field name="comment">DAFA Write-roles</field>
    </record>

    <record id="3_line_support" model="res.groups">
        <field name="name">DAFA 3rd Line</field>
        <field name="category_id" ref="module_category_af_support"/>
        <field name="implied_ids" eval="[(4, ref('2_line_support')), (4, ref('base.group_system'))]"/>
        <field name="comment">DAFA Write-roles and Odoo Admin</field>
    </record>

</odoo>
